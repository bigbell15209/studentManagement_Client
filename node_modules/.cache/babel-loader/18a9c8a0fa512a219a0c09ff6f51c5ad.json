{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bigbe\\\\Desktop\\\\Emerging Technologies - COMP 308 - 002\\\\week05\\\\express-react-example\\\\express-react-example\\\\react-client\\\\src\\\\components\\\\CreateArticle.js\";\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { withRouter } from 'react-router-dom';\nimport React, { useState } from 'react'; //\n\nfunction CreateArticle(props) {\n  //\n  const username = props.screen;\n  console.log('props.screen', props.screen);\n  const [article, setArticle] = useState({\n    _id: '',\n    title: '',\n    content: '',\n    username: ''\n  });\n  const [showLoading, setShowLoading] = useState(false); //\n\n  const apiUrl = \"http://localhost:3000/api/articles\"; //\n\n  const saveArticle = e => {\n    setShowLoading(true);\n    e.preventDefault();\n    const data = {\n      title: article.title,\n      content: article.content,\n      username: username\n    }; //\n\n    axios.post(apiUrl, data).then(result => {\n      setShowLoading(false);\n      console.log('results from save article:', result.data);\n      props.history.push('/showarticle/' + result.data._id);\n    }).catch(error => setShowLoading(false));\n  }; //\n\n\n  const onChange = e => {\n    e.persist();\n    setArticle({ ...article,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \" Create an article \", username, \" \"), showLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: saveArticle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \" Title\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"title\",\n    id: \"title\",\n    placeholder: \"Enter title\",\n    value: article.title,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \" Content\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: \"3\",\n    name: \"content\",\n    id: \"content\",\n    placeholder: \"Enter Content\",\n    value: article.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, \"Save Article\"))));\n}\n\nexport default withRouter(CreateArticle);","map":{"version":3,"sources":["C:/Users/bigbe/Desktop/Emerging Technologies - COMP 308 - 002/week05/express-react-example/express-react-example/react-client/src/components/CreateArticle.js"],"names":["axios","Spinner","Jumbotron","Form","Button","withRouter","React","useState","CreateArticle","props","username","screen","console","log","article","setArticle","_id","title","content","showLoading","setShowLoading","apiUrl","saveArticle","e","preventDefault","data","post","then","result","history","push","catch","error","onChange","persist","target","name","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withRouter } from 'react-router-dom';\r\nimport React, { useState } from 'react';\r\n\r\n//\r\nfunction CreateArticle(props) {\r\n    //\r\n    const username = props.screen;\r\n    console.log('props.screen',props.screen)\r\n    const [article, setArticle] = useState({ _id: '', title: '', content: '', username: '' });\r\n    const [showLoading, setShowLoading] = useState(false);\r\n    //\r\n    const apiUrl = \"http://localhost:3000/api/articles\"\r\n    //\r\n    const saveArticle = (e) => {\r\n        setShowLoading(true);\r\n        e.preventDefault();\r\n        const data = {title: article.title, content: article.content, username: username };\r\n        //\r\n        axios.post(apiUrl, data)\r\n        .then((result) => {\r\n            setShowLoading(false);\r\n            console.log('results from save article:',result.data)\r\n            props.history.push('/showarticle/' + result.data._id)\r\n\r\n        }).catch((error) => setShowLoading(false));\r\n    };\r\n    //\r\n    const onChange = (e) => {\r\n        e.persist();\r\n        setArticle({...article, [e.target.name]: e.target.value});\r\n      }\r\n    \r\n    return (\r\n        <div>\r\n        <h2> Create an article {username} </h2>\r\n        {showLoading && \r\n            <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n            </Spinner> \r\n        } \r\n        <Jumbotron>\r\n            <Form onSubmit={saveArticle}>\r\n              <Form.Group>\r\n                <Form.Label> Title</Form.Label>\r\n                <Form.Control type=\"text\" name=\"title\" id=\"title\" placeholder=\"Enter title\" value={article.title} onChange={onChange} />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label> Content</Form.Label>\r\n                <Form.Control as=\"textarea\" rows=\"3\" name=\"content\" id=\"content\" placeholder=\"Enter Content\" value={article.content} onChange={onChange} />\r\n              </Form.Group>\r\n                            \r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Save Article\r\n              </Button>\r\n            </Form>\r\n          </Jumbotron>\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default withRouter(CreateArticle);\r\n"]},"metadata":{},"sourceType":"module"}